while (end != 0 &amp;&amp; Character.isWhitespace(str.charAt(end - 1))) {
end--;
}
}
else if (stripChars.isEmpty()) return str;
for (int j = 0; j < searchLen; j++) {
if (searchChars[j] == ch) {
if (i < csLast &amp;&amp; j < searchLast &amp;&amp; Character.isHighSurrogate(ch)) {

