Collection<T> filtered = new LinkedList<T>();

for (T o : l)
{
if (pred.getBoolean(o))
{
filtered.add(o);
}

if (filtered.size() >= max)
for (A o : list)
{
if (pred.getBoolean(o))
{
filtered.add(o);
}
}

return filtered;
}

}

