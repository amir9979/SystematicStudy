if (t0 < 0) {
t0 = t1;
}
double y = o.getY() + t0 * d.getY();
if (y > ymax || y < ymin) {
double xx = o.getX() + t0 * d.getX();
double zz = o.getZ() + t0 * d.getZ();
if (xx * xx + zz * zz <= radius2 &amp;&amp; t0 < t &amp;&amp; t0 >= 0) {

