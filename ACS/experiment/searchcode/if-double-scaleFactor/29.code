while (this.scaleFactor < i &amp;&amp; this.scaledWidth / (this.scaleFactor + 1) >= 320 &amp;&amp; this.scaledHeight / (this.scaleFactor + 1) >= 240)
{
++this.scaleFactor;
}

if (flag &amp;&amp; this.scaleFactor % 2 != 0 &amp;&amp; this.scaleFactor != 1)
--this.scaleFactor;
}

this.scaledWidthD = (double)this.scaledWidth / (double)this.scaleFactor;

