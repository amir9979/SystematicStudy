private int scaledHeight;
private double scaledWidthD;
private double scaledHeightD;
private int scaleFactor;
while (this.scaleFactor < var5 &amp;&amp; this.scaledWidth / (this.scaleFactor + 1) >= 320 &amp;&amp; this.scaledHeight / (this.scaleFactor + 1) >= 240)
{
++this.scaleFactor;
}

if (var4 &amp;&amp; this.scaleFactor % 2 != 0 &amp;&amp; this.scaleFactor != 1)

