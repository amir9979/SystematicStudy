while (this.scaleFactor < k &amp;&amp; this.scaledWidth / (this.scaleFactor + 1) >= 320 &amp;&amp; this.scaledHeight / (this.scaleFactor + 1) >= 240)
{
++this.scaleFactor;
}

if (flag &amp;&amp; this.scaleFactor % 2 != 0 &amp;&amp; this.scaleFactor != 1)
this.scaledWidthD = (double) this.scaledWidth / (double) this.scaleFactor;
this.scaledHeightD = (double) this.scaledHeight / (double) this.scaleFactor;

