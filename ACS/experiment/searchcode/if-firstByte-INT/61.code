int num = is.read(b, off, len);
if (num == -1) return -1;
for (int i=off; i < off+len; i++) {
if (b[i] != 0) b[i] -= roll;
public void write(int b)
throws IOException {
if (firstByte &amp;&amp; floatingRoll) {
randomRoll();

