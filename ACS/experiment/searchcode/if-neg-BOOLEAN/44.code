if (n == 0) {
return 1.0;
}

boolean isNeg = false;

if (n == 1) {
return x;
}

if (n < 0) {
isNeg = true;

