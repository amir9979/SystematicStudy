double result = 1;
boolean neg = n<0;
n = Math.abs(n);
while (n>0) {
if (n%2 == 1) {
result *= x;
}
x *= x;
n = n >> 1;
}
if (neg) {

