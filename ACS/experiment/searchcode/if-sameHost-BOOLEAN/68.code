&quot;the shard cannot be allocated on the same node id [%s] on which it already exists&quot;, node.nodeId());
}
}
if (sameHost) {
if (node.node() != null) {
// check if its on the same host as the one we want to allocate to
boolean checkNodeOnSameHost = false;
if (Strings.hasLength(checkNode.node().getHostAddress()) &amp;&amp; Strings.hasLength(node.node().getHostAddress())) {

