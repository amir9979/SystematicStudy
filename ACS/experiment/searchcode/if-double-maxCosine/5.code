&amp;&amp; fabs(contourArea(Mat(approx))) > 1000
&amp;&amp; isContourConvex(Mat(approx)) )
{
double maxCosine = 0;
// vertices to resultant sequence
if( maxCosine < 0.3 )
squares.push_back(approx);

