private ISyncDetectListener mListener;
private long mPattern;
private int mThreshold;

public SoftSyncDetector( ISyncDetectListener listener, long pattern, int threshold )
long difference = value ^ mPattern;

if( ( difference == 0 || Long.bitCount( difference ) <= mThreshold ) &amp;&amp;

