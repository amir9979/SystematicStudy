public int compareTo(Pair<A, B> o) {
if (key instanceof Comparable &amp;&amp; value instanceof Comparable) {
Comparable<A> k = (Comparable<A>) key;
Comparable<B> v = (Comparable<B>) value;
if (!k.equals(o.key)) {

