//		128	1	2	Flow Direction number
//		64	0	4	First : Up, Down / Second : Left, Right
//		32	16	8
short floDir = 0 ;
double e0 = dataDEM[y][x] ;
if ( (e8==-1)&amp;&amp;(e1==-1)&amp;&amp;(e2==-1) )  { // Up
floDir = 1 ; // 1 direction
}else if ( (e6==-1)&amp;&amp;(e5==-1)&amp;&amp;(e4==-1) ) { // Down

