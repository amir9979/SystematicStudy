public void testTrace() {
RealMatrix m = new Array2DRowRealMatrix(id);
assertEquals(&quot;identity trace&quot;,3d,m.getTrace(),entryTolerance);
/** Returns the result of applying the given row permutation to the matrix */
protected RealMatrix permuteRows(RealMatrix matrix, int[] permutation) {
if (!matrix.isSquare() || matrix.getRowDimension() != permutation.length) {

