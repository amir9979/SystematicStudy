final int currentStep = xps.currentStep + 1;
final int maximumStep = getMaximumStep(branchIdx);
if (currentStep <= maximumStep)
private boolean matches(final RestrictedXPath xpath, final int idxStep, final QName name)
{
if (xpath.isAttribute())
{
return false;

