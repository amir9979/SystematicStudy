while (true) {
char a = (char) (in.readByte() &amp; 0xff);
if (a == 0) {
return new String(out, 0, s);
* Returns the number of bytes the modified UTF8 representation of &#39;s&#39; would take.
*/
private static long countBytes(String s, boolean shortLength) throws UTFDataFormatException {

