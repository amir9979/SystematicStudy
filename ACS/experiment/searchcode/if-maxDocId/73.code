int minDocID;                                 // minimum docID that needs renumbering
int maxDocID;                                 // 1+ the max docID that needs renumbering
if (oldDocID < minDocID)
// Unaffected by merge
return oldDocID;
else if (oldDocID >= maxDocID)
// This doc was &quot;after&quot; the merge, so simple shift

