if ((maxPrimary == 0) &amp;&amp; (maxSecondary == 0)) {
return actualPrimary;
}

// If ScaleType.FIT_XY fill the whole rectangle, ignore ratio.
double ratio = (double) maxSecondary / (double) actualSecondary;
return (int) (actualPrimary * ratio);
}

if (maxSecondary == 0) {

