public static double max(double[] v) {
double ret = v[0];
for (int i = 1; i < v.length; i++) {
public static void scaleRangeTo(double d, double[] v) {
double a = min(v);
double b = max(v);
double f = d  / (b - a);

