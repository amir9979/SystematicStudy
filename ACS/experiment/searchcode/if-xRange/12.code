public static int count_all_subarrays(ArrayList<Integer> a, int left, int right, int xrange, int yrange){
if(xrange==0 &amp;&amp; yrange==0) return 0;
public static int search_elements_between(ArrayList<Integer> a, int left, int right, int xrange, int yrange){
if(left <= right){
int mid = left + (right-left)/2;
if(a.get(mid)>xrange &amp;&amp; a.get(mid)>yrange &amp;&amp; mid>left){

