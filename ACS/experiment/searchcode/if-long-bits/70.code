// about 25% overhead for range check
public static long setBits (int posFromRight, int length,  long value, long bits)
{
if (value > RangeCheck[length]) {
public final boolean cas (Atomic bits, int expect, int update) // byte
{
long currentBits = bits.get();
if (get(currentBits) == expect) {

