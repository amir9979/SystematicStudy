int sign = 1;
if (n < 0)
{
sign = -1;
n = -n;
}

double val = calcPow(x, n);

if (sign == -1)
val = 1.0/val;

return val;

