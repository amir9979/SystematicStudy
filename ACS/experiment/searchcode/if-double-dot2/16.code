final double twoTheta = 2 * theta;
final double dot2 = 1 - twoTheta;
final double dot3 = theta * (2 - 3 * theta);
final double[] interpolatedState;
final double[] interpolatedDerivatives;
if (getGlobalPreviousState() != null &amp;&amp; theta <= 0.5) {

