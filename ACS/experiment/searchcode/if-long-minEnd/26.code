Date minEnd =  a1.getMaxEnd();
if ( a1.getMaxEnd() != null &amp;&amp; a2.getMaxEnd() != null &amp;&amp; a2.getMaxEnd().before( a1.getMaxEnd())) {
minEnd = new Date(maxStart.getTime() + DateTools.MILLISECONDS_PER_DAY * 365 * 10 );

if ( toDate != null &amp;&amp; minEnd.after( toDate))

