DirectoryReader reader = null;
if (r.nextBoolean() &amp;&amp; DirectoryReader.indexExists(dir) &amp;&amp; conf.getOpenMode() != IndexWriterConfig.OpenMode.CREATE) {
private RandomIndexWriter(Random r, Directory dir, IndexWriterConfig c, boolean closeAnalyzer) throws IOException {
// TODO: this should be solved in a different way; Random should not be shared (!).

