private final boolean[] buttonConsumed;
private int lastButton;

public ButtonInput(int buttonCount) {
return n >= 0 &amp;&amp; n < buttons.length;
}

void down(int n) {
if (check(n) &amp;&amp; !buttons[n]) {
lastButton = n;

