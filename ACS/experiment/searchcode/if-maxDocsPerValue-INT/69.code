private ValuesSource.Numeric valuesSource;
private int maxDocsPerValue;

public DiversifiedNumericSamplerAggregator(String name, int shardSize, AggregatorFactories factories,
values.setDocument(doc);
final int valuesCount = values.count();
if (valuesCount > 1) {

