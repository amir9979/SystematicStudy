if(!Double.isNaN(value) &amp;&amp; !Double.isInfinite(value)) {
Integer num = values.get(value);
if(num==null)
num = 0;
for(Entry<Double, Integer> value:values.entrySet()) {
Double postVal = value.getKey();
Double prevVal = prev;
if(!start &amp;&amp; !end &amp;&amp; x-interval<value.getKey()) {

