logger.warn(&quot; stopping processing to achieve state READY&quot;);
stopProcessing();
break;

case UPGRADING:
if (!upgradeInProgress) {
logger.warn(&quot; UPGDRADING STATE detected and not in progress...launching upgrade&quot;);
default: throw new ClusterException(&quot;cannot execute state: &quot; + state);

}

}

private boolean upgradeInProgress = false;
public void upgradePlatform() throws Exception {

