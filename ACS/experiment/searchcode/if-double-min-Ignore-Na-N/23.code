double xi = p[i][dim];
if (!Double.isNaN(xi))
x[m++] = xi;
}
Arrays.sort(x);  // nan treated like +inf
Arrays.sort(x);  // nan treated like +inf
while((n>0) &amp;&amp; Double.isNaN(x[n]))  // ignore NaN&#39;s
n--;
int n0 = (n+1)/2;

