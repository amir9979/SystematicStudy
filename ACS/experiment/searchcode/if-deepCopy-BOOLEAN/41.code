@Override
public boolean equals(Object x, Object y) throws HibernateException {
if (x == y) {
// also safe for mutable objects
Object deepCopy = deepCopy(value);

if (!(deepCopy instanceof Serializable)) {

