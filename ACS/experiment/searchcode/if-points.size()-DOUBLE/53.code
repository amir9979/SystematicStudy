Vector c2 = controlPoints.get(controlPoints.size() - 3).vectorTo(controlPoints.get(controlPoints.size() - 2));
if(d2.length() > 0.0001 &amp;&amp; c2.length() > 0.0001) {
if(i > controlPoints.size() - 4) {
i = controlPoints.size() - 4;
}
if(i < 0) {
i = 0;
}
return i;
}
public Point calc(double t) {

