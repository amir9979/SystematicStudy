// if one of arrays are empty
if (la > ra) {
if ((rb-lb+1)%2 == 1) return (double)B[(lb+rb)/2];
else return (double)(B[(lb+rb)/2]+B[(lb+rb)/2+1])/2.0;
}

if (lb > rb) {
if ((ra-la+1)%2 == 1) return (double)A[(la+ra)/2];

