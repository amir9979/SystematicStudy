boolean needToChange = false;

int numChars = s.length();

StringBuilder sb = new StringBuilder(numChars > 500 ? numChars / 2 : numChars);

int i = 0;

if (enc.length() == 0){

