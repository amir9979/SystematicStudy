while (true) {
long current = base * 4 - 2;
if (current > n) {
break;
}
base = current;
}
long delta = n - base;
if (delta * 2 < n) {

