List<Expr> negatedExprs = new LinkedList<Expr>();
negatedExprs.add(negatedExpr);

while (tokens.hasNext()) {
if (!&quot;and&quot;.equalsIgnoreCase(tokens.next())) {
for (Expr expr : negatedExprs) {
Boolean value = (Boolean) expr.evaluate(eval);

if (value != null &amp;&amp; !value) {

