String[] pathSegments = StringUtils.split(filePath, File.separator);

if (pathSegments.length > 0) {
String firstSegment = pathSegments[0];
if (abbreviatedPath.length() < size) {
if (pathSegments.length > 1) {
String lastSegment = pathSegments[pathSegments.length - 1];

