case FAILED:
nanPositions = getNanPositions(ranks);
if (nanPositions.size() > 0) {
private void restoreNaNs(double[] ranks, List<Integer> nanPositions) {
if (nanPositions.size() == 0) {
return;
}
Iterator<Integer> iterator = nanPositions.iterator();

