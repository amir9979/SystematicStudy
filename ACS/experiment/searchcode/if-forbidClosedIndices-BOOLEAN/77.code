IndicesOptions options = context.getOptions();
boolean failClosed = options.forbidClosedIndices() &amp;&amp; options.ignoreUnavailable() == false;
boolean failNoIndices = options.ignoreUnavailable() == false;
// If only one index is specified then whether we fail a request if an index is missing depends on the allow_no_indices

