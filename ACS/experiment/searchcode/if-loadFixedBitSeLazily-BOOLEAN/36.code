.addSort(SortBuilders.fieldSort(&quot;nested1.field1&quot;).setNestedFilter(termFilter(&quot;nested1.field2&quot;, true)).missing(10).order(SortOrder.ASC));

if (randomBoolean()) {
.addSort(SortBuilders.fieldSort(&quot;nested1.field1&quot;).setNestedFilter(termFilter(&quot;nested1.field2&quot;, true)).missing(10).order(SortOrder.DESC));

if (randomBoolean()) {

