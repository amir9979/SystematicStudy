.addSort(SortBuilders.fieldSort(&quot;nested1.field1&quot;).setNestedFilter(termQuery(&quot;nested1.field2&quot;, true)).missing(10).order(SortOrder.ASC));

if (randomBoolean()) {
searchRequestBuilder.setScroll(&quot;10m&quot;);

