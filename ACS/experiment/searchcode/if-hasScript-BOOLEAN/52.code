int len = events.size();
int start = 0;
boolean hasText = false;
boolean hasScript = false;
for( int i = 0; i < len; i++ )
private static void consolidate( List<ParseEvent> source, int start, int end, List<ParseEvent> result, boolean hasText, boolean hasScript )
{
if( hasText || !hasScript )
{
for( int i = start; i <= end; i++ )

