final int expv = (int) Math.floor(Math.log(x) / Math.log(10));
final double f = x / Math.pow(10.0, expv);
final double nf;
if (round) {
if (f < 1.5) {
nf = 1.0;
} else if (f < 3.0) {
nf = 2.0;
} else if (f < 7.0) {
nf = 5.0;

