import java.net.Proxy;
import java.net.ProxySelector;
import java.net.SocketAddress;
import java.net.URI;
import java.util.ArrayList;
if(failed.contains(uri) || &quot;http&quot;.equalsIgnoreCase(uri.getScheme())){
result.add(Proxy.NO_PROXY);
}else{
SocketAddress proxyAddress = new InetSocketAddress(&quot;proxy.example.com&quot;,8000);

