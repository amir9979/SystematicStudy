public static double length(double x, double y) {
double res;
double absx = Math.abs(x);
double absy = Math.abs(y);

if (absx == 0)
private static double lengthAbsNoZero(double absx, double absy) {
double res;
if (absx > absy) {
double temp = absy / absx;
res = absx * Math.sqrt(1.0 + temp * temp);

