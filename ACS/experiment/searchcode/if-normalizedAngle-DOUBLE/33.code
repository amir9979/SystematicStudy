BufferedImage[] rotation = matrix[phase % matrix.length];

if (cachedAngle != angle) {
double a = normalizedAngle() / 2 / Math.PI;
if (a < 0) {
double a0 = angles[i];
double a1 = angles[i + 1];
if (a0 < a1) {
if (a >= a0 &amp;&amp; a < a1) {
if (a - a0 < a1 - a) {

