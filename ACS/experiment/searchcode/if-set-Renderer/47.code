if (network!=null) {

if (renderer!=null) {

NodeRenderer nodeRenderer = instantiateNodeRenderer(renderer);
figure.getRenderer().setNodeRenderer( nodeRenderer );
}

if (map!=null)
figure.getRenderer().getNodeRenderer().setColorMap(map);

figure.render();
}
}

}

