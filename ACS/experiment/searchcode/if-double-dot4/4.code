final double dot3 = theta * (2 - 3 * theta);
final double dot4 = twoTheta * (1 + theta * (twoTheta - 3));

final double[] interpolatedState;
final double[] interpolatedDerivatives;
if (getGlobalPreviousState() != null &amp;&amp; theta <= 0.5) {

