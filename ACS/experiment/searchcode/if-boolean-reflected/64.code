public ReflectedObject[] getFields()
{
try
{
if (obj == null || type.isPrimitive()) return new ReflectedObject[0];
else if (type.isArray())

