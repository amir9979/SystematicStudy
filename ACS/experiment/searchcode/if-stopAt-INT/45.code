String ext = null;
String s = f.getName();
int i = s.lastIndexOf(&#39;.&#39;);

if (i > 0 &amp;&amp;  i < s.length() - 1) {
//then don&#39;t even continue. There would never be any match
if (stopAt > 0) {
//Loop through looking for the search string
for (int i = 0; i < stopAt; i++) {

