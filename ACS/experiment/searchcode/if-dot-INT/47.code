double invalid = 2.0;
if (A.length != B.length) {
return invalid;
}

double A_dot_B = 0.0, A_dot_A = 0.0, B_dot_B = 0.0;
for (int i = 0; i < A.length; ++i) {
A_dot_B += A[i] * B[i];
A_dot_A += A[i] * A[i];

