ShapeID shapeID = shapeManager.getCurShapeID();
if (shapeID == ShapeID.RECTANGLE)
return (Shape) new Rectangle(shapeManager, point);
else if (shapeID == shapeID.DOT)
return (Shape) new Dot(shapeManager, point);

