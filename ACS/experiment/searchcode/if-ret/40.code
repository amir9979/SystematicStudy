double savedp = 0;
double ret = n;

while (true) {
if(n%2 == 0) {
if(savedp != 2) {
ret = ret - (ret/2);
savedp = 2;

