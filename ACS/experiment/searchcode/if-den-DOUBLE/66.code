Vector3 r = new Vector3();
if (A.z == 0.0 &amp;&amp; B.z == 0.0 &amp;&amp; C.z == 0.0) {
double u = ((A.x - B.x) * (A.x + B.x) + (A.y - B.y) * (A.y + B.y)) / 2.0;
double v = ((B.x - C.x) * (B.x + C.x) + (B.y - C.y) * (B.y + C.y)) / 2.0;
double den = (A.x - B.x) * (B.y - C.y) - (B.x - C.x) * (A.y - B.y);

