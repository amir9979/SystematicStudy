bytesLeft = fillBytesFromLastData(bytesLeft);

if (bytesLeft <= 0) {
return ret;
}

while(bytesLeft > 0) {
private int fillBytesFromLastData(int bytesLeft) {
if (getNumOfBytesInOutput() == 0) {
return bytesLeft;
}

int count = 0;

