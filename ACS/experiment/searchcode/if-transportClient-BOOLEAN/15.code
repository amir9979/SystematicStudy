import org.elasticsearch.client.Client;
import org.elasticsearch.client.transport.TransportClient;
import org.elasticsearch.common.settings.ImmutableSettings;
? new TransportClient(ImmutableSettings.settingsBuilder().put(&quot;client.transport.sniff&quot;, true))
: new TransportClient();

if (addresses != null &amp;&amp; addresses.size() > 0) {

