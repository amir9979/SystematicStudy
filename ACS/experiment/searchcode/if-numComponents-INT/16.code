for (int x = 0; x < image.getWidth(); x++) {
int pixel = pixels[y * image.getWidth() + x];
if(numComponents > 0) data[i++] = ((byte) ((pixel >> 16) &amp; 0xFF)); 	// Red component
byte g = data[index+1];
byte b = data[index+2];
byte a = data[index+3];

int i = 0;
if(numComponents > 0) { color[i++] = r; }

