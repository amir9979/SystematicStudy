String currentFieldName = null;

if (token != XContentParser.Token.START_OBJECT
&amp;&amp; (token = parser.nextToken()) != XContentParser.Token.START_OBJECT) {
while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) {

if (token == XContentParser.Token.FIELD_NAME) {

