if (shouldRetry()) {
onFailure(retries);
}
}

private boolean retry(int retries) {
protected abstract void runInternal();

protected abstract boolean shouldRetry();

protected void onFailure(int retries) {
}

protected void onRetry(int retries) {
}
}

