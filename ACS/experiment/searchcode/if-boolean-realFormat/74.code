boolean hasRe = !doubleIsEqual(re, 0.0, PRECISION);
boolean hasIm = !doubleIsEqual(im, 0.0, PRECISION);

if (!hasRe &amp;&amp; !hasIm) {
separator.setDecimalSeparator(&#39;.&#39;);

String realString = &quot;&quot;;
if (hasRe) {
DecimalFormat realFormat = new DecimalFormat(&quot;#.####&quot;, separator);

