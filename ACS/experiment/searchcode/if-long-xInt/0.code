throw new ArithmeticException(&quot;Factorial: n has to be >= 0, but was &quot; + n);
}

if (n < 2) {
return Xint.ONE;
}

// -- log2n = floor(log2(n));
m = (m - 1) | 1; // Round m down to the next odd number

if (m == n) {
return Xint.valueOf(m);
}
if (m == (n + 2)) {

