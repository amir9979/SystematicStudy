if ((!deleted.contains(key)) &amp;&amp; (oldValue != null) &amp;&amp; (overwritten.get(key) == null)) {
if (!value.equals(oldValue)) {
} else if (deleted.contains(key)) {
deleted.remove(key);

if (!oldValue.equals(value)) {
overwritten.put(key, value);

