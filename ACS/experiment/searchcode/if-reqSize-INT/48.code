public static int calculateInSampleSize(BitmapFactory.Options options, Point reqSize) {
// Raw height and width of image
int inSampleSize = 1;

if (height > reqSize.y || width > reqSize.x) {

final int halfHeight = height / 2;

