int a = keepA ? 0 : end.getAlpha() - start.getAlpha();

int nSteps = steps > 0 ? steps : max(max(max(abs(r), max(abs(g), abs(b))), abs(a)), 1), i = nSteps, directions = -1;
@Override
public Color next() {
if (++i > nSteps) {
directions *= -1;
i = 0;
Color now = directions > 0 ? start : end;

