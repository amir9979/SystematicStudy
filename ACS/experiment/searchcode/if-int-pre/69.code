int m = needle.length();

if (m == 0) return 0;

int []p = new int[m];
for (int i = 0; i < m; i++) p[i] = 0;
if (needle.charAt(p[i]) == needle.charAt(i))
p[i] ++;
}

// KMP

int pre = 0;
for (int i = 0; i < n; i++){
while (pre > 0 &amp;&amp; needle.charAt(pre) != haystack.charAt(i))

