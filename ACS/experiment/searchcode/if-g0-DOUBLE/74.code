int index;
int N = rgb.length;
double max = 254 - g0;
double tmp;

int maxNonZero = -1;
tmp = Math.log(1.0 - (double) sum / N);

index = (int) Math.round(g0 - tmp / a);

if (index < 0) {

