public static double distance(double[] a, double[] b) {
double d = 0;
int n = Math.min(a.length, b.length);
double t = a[i] - b[i];
// The following is a very efficient replacement for !Double.isNaN(t).
if (t == t) {

