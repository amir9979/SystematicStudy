double lclip = getLowerClip();
double uclip = getUpperClip();

if (uclip <= 0.0) {  // cases 1, 2, 3 and 4
return; // bar is not visible
}
base = uclip;
if (value <= lclip) {
value = lclip;

