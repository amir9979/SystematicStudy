cur = new int[r]; // current location of all rabbits
for (int in = 0, ir = 0; in < n; in++)
if ((mask &amp; (1 << in)) > 0)
for (int ir = 0; ir < r; ir++)
if (cur[ir] != -1)

