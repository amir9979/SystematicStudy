private final List<String> upperBounds;

// lazily constructed DiscreteDomain for upper bounds; use domain()
// the special case, (a, _] and apply(a) == a is handled by skipping a
String afterLower = domain.next(apply(lower));
if (afterLower != null) {
if (range.hasUpperBound()) {

