validateDirectory(directory);
validateAccessRights(directory);
}

private static void validateAccessRights(File directory) {
if (!hasNeededAccess(directory)) {
private static void validateDirectory(File directory) {
if (!directory.isDirectory()) {
throw new IllegalArgumentException(&quot;this is not a directory!&quot;);

