public class DirtyState implements ReadOnlyValue<Boolean>
{
public DirtyState(DocDisplay editor, boolean initialState)
markDirty(true);
}
});
}

public void markDirty(boolean allowUndoBackToClean)
{
if (!allowUndoBackToClean)

