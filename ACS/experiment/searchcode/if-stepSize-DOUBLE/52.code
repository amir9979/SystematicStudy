public double[] minimize(DifferentiableFunction function, double[] initial, double[] direction) {
double stepSize = 1.0;
double initialFunctionValue = function.valueAt(initial);
boolean sufficientDecreaseObtained = false;
//    if (false) {
//      guess = DoubleArrays.addMultiples(initial, 1.0, direction, EPS);

