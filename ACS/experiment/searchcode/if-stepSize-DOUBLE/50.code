public double[] minimize(DifferentiableFunction function, double[] initial, double[] direction) {
double stepSize = 1.0;
double initialFunctionValue = function.valueAt(initial);
double[] guess = null;
double guessValue = 0.0;
boolean sufficientDecreaseObtained = false;
//    if (false) {

